{
    "file_name": "build_config",
    "file_version": "1.0",
    "name": "HTML Documentation Generator",
    "build_type": "documentation",
    "build_subtype": "HTML",
    "build_tool_type": "Doxygen & Sphinx",
    "os": [
        "${OS_NAME_WINDOWS}",
        "${OS_NAME_LINUX}",
        "${OS_NAME_OSX}"
    ],
    "stages": [
        {
            "name": "Doxygen XML",
            "description": "Generates the XML files out of the sources documentation.",
            "build_tool_name": "Doxygen",
            "build_tool_out_dir": "${../../../build_directory}/xml",
            "call_build_tool": "once",
            "always_run_build": false,            
            "dependencies": [
                "${../../../dependencies}",
                "${../../../build_directory}/Doxyfile"
            ],
            "results": [
                {
                    "type": "dir",
                    "path_or_regexp": "${../../../../build_directory}/xml",
                    "del_after_next_stage": true
                }
            ],
            "build_tool_arguments": [
                "${../../../build_directory}/Doxyfile"
            ]
        },
        {
            "name": "Sphinx HTML",
            "description": "Generates HTML documentation out of Doxygen XML files",
            "always_run_build": true,
            "results": [
                {
                    "type": "single_file",
                    "source_name": "HTML index file",
                    "path_or_regexp": "${../../../../build_directory}/html/index.html"
                }
            ],
            "build_tool_working_dir": "${../../../build_directory}",         
            "build_tool_arguments": [
                "-b html",
                "-Dbreathe_projects.${PROJECT_NAME}=${../../../build_directory}/xml",
                "${../../../build_directory}/sphinx",
                "${../../../build_directory}/html"
            ]
        }
    ]
}